- id: 0
  messages:
    - Pick which best describes you.
  input:
    type: buttons_single_select
    key: province
    store: no
    dummy_text: Choose a province...
    option_list: [I know which course I want to take, I don't know which course fits my needs]
  outcome:
    - cases: [I know which course I want to take]
      response:
        - Great.
      next: 1
    - cases: [I don't know which course fits my needs]
      response:
        - Finding the right course can be difficult. Luckily, I'm here to help!
      next: 'choose_course'

- id: 1
  messages:
    - 'Sure thing! Just select the course you are looking for from the list below, and I can see if there are any upcoming courses at our {{location}} location.'
    - 'Note: To search and register manually, click [here](https://www.lifestarttraining.com/).'
  input:
    type: buttons_single_select
    key: course
    store: yes
    dummy_text: Choose a course...
    option_list: {{course_list}}
  outcome:
    - cases: {{course_list}}
      response:
        - Searching for courses...
      next: 2
  
- id: 2
  api_call:
    method: POST
    url: '{{API_URL}}/api/courses/allcourses'
    body:
      location: "2"
      course: "74"
  outcome:
    - response:
        - 'Here are the upcoming courses:'
      next: 3
    - error:
        - 'Sorry, an error occurred while retrieving the course information.'
      next: 'error_step'

- id: 3
  messages:
    - {{response}}
  input:
    type: buttons_single_select
    key: course
    store: yes
    dummy_text: Choose a course...
    option_list: {{course_list}}
  outcome:
    - cases: {{course_list}}
      response:
        - Searching for courses...
      next: 2